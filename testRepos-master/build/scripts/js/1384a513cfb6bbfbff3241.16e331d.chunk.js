(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{454:function(e,t,n){"use strict";n.d(t,"e",(function(){return getStaff})),n.d(t,"d",(function(){return getPossibleStaffForApplication})),n.d(t,"c",(function(){return getEmployeeSalary})),n.d(t,"a",(function(){return createEmployee})),n.d(t,"f",(function(){return updateEmployee})),n.d(t,"b",(function(){return deleteEmployee}));var a=n(18),getStaff=function(e){return new Promise((function(t){a.a.get("/staff",e).then((function(e){t(e)})).catch(console.warn)}))},getPossibleStaffForApplication=function(e){return new Promise((function(t){a.a.get("/staff/applications/possible",e).then((function(e){t(e)})).catch(console.warn)}))},getEmployeeSalary=function(e){return new Promise((function(t){a.a.get("/staff/employee/salary",e).then((function(e){t(e)})).catch(console.warn)}))},createEmployee=function(e){return new Promise((function(t,n){a.a.post("/staff",e).then((function(e){t(e)})).catch(n)}))},updateEmployee=function(e){return new Promise((function(t,n){a.a.put("/staff",e).then((function(e){t(e)})).catch(n)}))},deleteEmployee=function(e){return new Promise((function(t,n){a.a.delete("/staff",e).then((function(e){t(e)})).catch(n)}))}},484:function(e,t,n){"use strict";n.d(t,"a",(function(){return EnhancedTable}));var a=n(7),r=n.n(a),o=n(30),c=n.n(o),i=n(0),l=n.n(i),s=n(1),u=n.n(s),d=n(160),f=n.n(d),p=n(510),b=n(511),m=n(505),y=n(509),g=n(507),h=n(534),w=n(508),v=n(535),O=n(443),j=n(444),E=n(442),P=n(462),S=f()((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Table_EnhancedTableHead=function(e){var t=e.classes,n=e.order,a=e.orderBy,r=e.subField,o=e.onRequestSort,c=e.headCells,i=e.hasActions,createSortHandler=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(){"function"===typeof o&&a&&o(n,e,t)}},isActiveCell=function(e){return a===e.id&&r===e.subField};return l.a.createElement(g.a,null,l.a.createElement(w.a,null,c.map((function(e){return l.a.createElement(m.a,{key:"head-cell-".concat(e.id,"_").concat(e.subField||""),sortDirection:!!isActiveCell(e)&&n},l.a.createElement(v.a,{active:isActiveCell(e),hideSortIcon:!1===e.canSort,direction:isActiveCell(e)?n:"asc",onClick:createSortHandler(e.id,e.subField,e.canSort)},e.label,isActiveCell(e)?l.a.createElement("span",{className:t.visuallyHidden},"desc"===n?"sorted descending":"sorted ascending"):null))})),i&&l.a.createElement(m.a,{key:"actions"},"Actions")))};Table_EnhancedTableHead.defaultProps={order:"asc",orderBy:""},Table_EnhancedTableHead.propTypes={classes:u.a.object.isRequired,headCells:u.a.array.isRequired,onRequestSort:u.a.func,order:u.a.oneOf(["asc","desc"]),orderBy:u.a.string,subField:u.a.string,hasActions:u.a.bool};var C=f()((function(e){return{root:{width:"fit-content",paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{display:"flex"}}})),Table_EnhancedTableToolbar=function(e){var t=C(),n=e.title,a=e.children;return l.a.createElement(O.a,{className:t.root},l.a.createElement(j.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div"},n,a||""))};function EnhancedTable(e){var t=e.rows,n=e.rowsPerPage,a=e.order,r=e.orderBy,o=e.subField,s=e.headCells,u=e.idKey,d=e.page,f=e.title,g=e.loading,v=e.renderActions,O=e.renderFilters,C=e.renderTableCell,k=e.onClick,_=e.renderRow,N=e.loadData,x=e.onCellClick,F=e.checkValidRow,D=e.count,T=S(),K=Object(i.useState)({subField:o,order:a,orderBy:r,rowsPerPage:n,page:d,count:t.length||D||0}),I=c()(K,2),B=I[0],R=I[1];Object(i.useEffect)((function(){R({subField:o,order:a,orderBy:r,rowsPerPage:n,page:d,count:D||t.length||0})}),[t,D,d,n,r]);var changeConfig=function(e){R(e),N(e)},getFieldValueRaw=function(e,t){return e.subField&&t[e.id]?String(t[e.id][e.subField]||"--"):String(t[e.id]||"--")},getFieldValue=function(e,t){return C?C(e,t,getFieldValueRaw):getFieldValueRaw(e,t)},handleClick=function(e){return function(){"function"===typeof k&&k(e)}},q=Math.min(n,t.length-n);return l.a.createElement("div",{className:T.root},l.a.createElement(E.a,{className:T.paper},l.a.createElement(Table_EnhancedTableToolbar,{title:f},O&&O()),g&&l.a.createElement(P.a,null),l.a.createElement(y.a,null,l.a.createElement(p.a,{className:T.table,"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table"},l.a.createElement(Table_EnhancedTableHead,{classes:T,headCells:s,order:B.order,orderBy:B.orderBy,subField:B.subField,onRequestSort:function(e,t,n){var a="asc"===e?"desc":"asc",r=_objectSpread(_objectSpread({},B),{},{order:a,orderBy:t,subField:n});changeConfig(r)},hasActions:Boolean(v)}),l.a.createElement(b.a,null,t.map((function(e){return _?_({row:e,headCells:s,renderActions:v,idKey:u,getFieldValue,handleClick,onCellClick:x}):l.a.createElement(w.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e[u],className:F&&F(e)?"bgError":"",onClick:handleClick(e)},s.map((function(t){return l.a.createElement(m.a,{key:"cell-".concat(e[u],"-").concat(t.id,"_").concat(t.subField||""),onClick:function(n){return x(t,e,n)},align:"left"},getFieldValue(t,e))})),v&&l.a.createElement(m.a,{key:"cell-".concat(e[u],"*action"),align:"left"},v(e)))})),t.length<=0&&l.a.createElement(w.a,null,l.a.createElement(m.a,{colSpan:6},l.a.createElement(j.a,null,"\u041d\u0435\u0442 ",f))),q>0&&l.a.createElement(w.a,{style:{height:53*q}},l.a.createElement(m.a,{colSpan:6}))))),n&&l.a.createElement(h.a,{rowsPerPageOptions:[5,10,25],component:"div",count:B.count,rowsPerPage:B.rowsPerPage,page:B.page||0,onChangePage:function(e,t){var n=_objectSpread(_objectSpread({},B),{},{page:t,order:B.order});changeConfig(n)},onChangeRowsPerPage:function(e,t){var n=_objectSpread(_objectSpread({},B),{},{rowsPerPage:t.props.value,page:0});changeConfig(n)}})))}Table_EnhancedTableToolbar.propTypes={title:u.a.string.isRequired,children:u.a.any},EnhancedTable.defaultProps={onCellClick:function(){}},EnhancedTable.propTypes={count:u.a.number,headCells:u.a.array,idKey:u.a.string,loadData:u.a.func,checkValidRow:u.a.func,loading:u.a.bool,onClick:u.a.func,onCellClick:u.a.func,order:u.a.string,orderBy:u.a.string,subField:u.a.string,page:u.a.number,renderActions:u.a.func,renderFilters:u.a.func,renderRow:u.a.func,renderTableCell:u.a.func,rows:u.a.array,rowsPerPage:u.a.number,title:u.a.string}},506:function(e,t,n){},512:function(e,t,n){},554:function(e,t,n){"use strict";n.r(t);var a=n(7),r=n.n(a),o=n(17),c=n.n(o),i=n(89),l=n.n(i),s=n(30),u=n.n(s),d=n(0),f=n.n(d),p=n(1),b=n.n(p),m=n(43),y=(n(506),n(127)),g=n(88),h=n(19),w=n(454),v=n(484),O=n(157),j=n(162),E=n.n(j),P=n(496),S=n(453),C=n.n(S),k=n(555);n(512);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=Object(O.a)(3800),ExpectedSalary_ExpectedSalary=function(e){var t=e.onChange,n=Object(d.useState)(function(){try{var e=localStorage.getItem("expectedSalary");if(e)return JSON.parse(e)}catch(t){return console.warn("[getInitial SalaryConfig]",t),[]}return[]}()),a=u()(n,2),o=a[0],c=a[1];Object(d.useEffect)((function(){t(o)}),[]);var onSave=function(e){t(e),localStorage.setItem("expectedSalary",JSON.stringify(e))},handleChangeSalary=function(e,t){return function(n){var a=n.target.value,i=o.map((function(n){return n.id===e?_objectSpread(_objectSpread({},n),{},r()({},t,a)):n}));c(i),_("dat",onSave,i)}};return f.a.createElement("div",{className:"ExpectedSalary"},f.a.createElement("div",{className:"mr10"},f.a.createElement(P.a,{variant:"contained",color:"primary",size:"small",onClick:function(){c([].concat(E()(o),[{months:0,salary:0,id:(new Date).getTime()+Math.random()}]))},className:"ExcelTable-addBtn",startIcon:f.a.createElement(C.a,null)},"\u041e\u0436\u0438\u0434\u0430\u0435\u043c\u0430\u044f \u0437\u0430\u0440\u0431\u043b\u0430\u0442\u0430")),f.a.createElement("div",{className:"ExpectedSalary-list"},o.map((function(e){return f.a.createElement("div",{className:"ExpectedSalary-item"},f.a.createElement(k.a,{id:"outlined-basic",variant:"outlined",className:"selector-lg",InputLabelProps:{shrink:!0},label:"Months",value:e.months,onChange:handleChangeSalary(e.id,"months")}),f.a.createElement(k.a,{id:"outlined-basic",variant:"outlined",className:"selector-lg",InputLabelProps:{shrink:!0},label:"Salary",value:e.salary,onChange:handleChangeSalary(e.id,"salary")}))}))))};ExpectedSalary_ExpectedSalary.propTypes={onChange:b.a.func};var N=ExpectedSalary_ExpectedSalary;function salary_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function salary_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?salary_ownKeys(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):salary_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=[{id:"fio",label:"\u0424\u0418\u041e"},{id:"workPeriod",label:"\u0421\u0442\u0430\u0436"},{id:"position",label:"\u041f\u043e\u0437\u0438\u0446\u0438\u044f"},{id:"salary",label:"\u0417\u041f"},{id:"expectedSalary",label:"\u041e\u0436\u0438\u0434\u0430\u0435\u043c\u0430\u044f \u0417\u041f"},{id:"finName",label:"\u0424\u0418\u041d \u0424\u0418\u041e"},{id:"finPosition",label:"\u0424\u0418\u041d \u041f\u043e\u0437\u0438\u0446\u0438\u044f"}],salary_TableCell=function(e,t,n){return"workPeriod"===e.id?Object(O.d)(t):"position"===e.id?g.q[t.position]:"expectedSalary"===e.id?+t.salary>+t.expectedSalary?t.salary:t.expectedSalary:n(e,t)},F=["developer","qa","team_lead","pm","tech_lead","mentor"],salary_Salary=function(e){e.location;var t=e.teams,n=Object(d.useState)({}),a=u()(n,2),r=a[0],o=a[1],i=Object(d.useState)({month:(new Date).getMonth()}),s=u()(i,2),p=s[0],b=s[1],m=Object(d.useState)(function(){try{var e=localStorage.getItem("expectedSalary");if(e)return JSON.parse(e)}catch(t){return console.warn("[getInitial SalaryConfig]",t),[]}return[]}()),g=u()(m,2),j=g[0],E=g[1],P=Object(d.useState)({}),S=u()(P,2),C=S[0],k=S[1],_=Object(d.useState)(!1),D=u()(_,2),T=D[0],K=D[1],recalculateExpectedSalary=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.sort((function(e,t){return t.months-e.months})),c={},i={};t.forEach((function(e){var t=n[e._id]||r[e._id]||[],o=0;c[e._id]=t.filter((function(e){return-1!==F.indexOf(e.position)})).map((function(e){var t=Object(O.e)(e),n=a.find((function(e){return e.months<t}));if(n){e.expectedSalary=n.salary;var r=n.salary-e.salary;o+=r>0?r:0}return e})),i[e._id]=o})),o(c),k(i)},I=function(){var e=l()(c.a.mark((function _callee(){var e,t,n=arguments;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:{},K(!0),a.next=4,Object(w.c)(e);case 4:t=a.sent,o(t),recalculateExpectedSalary(j,t),K(!1);case 8:case"end":return a.stop()}}),_callee)})));return function(){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){I(salary_objectSpread({},p))}),[]);var checkValidRow=function(e){return!e.isPositionMatched};return f.a.createElement("div",{className:"Interview"},f.a.createElement("div",{className:"Interview-filters"},f.a.createElement("div",{className:"Interview-filters-selectors"},f.a.createElement(y.a,{label:"\u041c\u0435\u0441\u044f\u0446",items:h.g,itemIdKey:"id",dkey:"month",itemNameKey:"value",onChange:function(e,t){if(t&&t.props){var n=t.props,a=n.dkey,r=n.value,o=salary_objectSpread({},p);o[a]=r||"",b(o),I(o)}},selectedValue:p.month||"",className:""}))),f.a.createElement(N,{onChange:function(e){E(e),recalculateExpectedSalary(e)}}),f.a.createElement("div",{style:salary_objectSpread({width:"100%"},T?{opacity:.4}:{})},t&&t.map((function(e){return f.a.createElement(v.a,{key:e._id,title:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438 ".concat(e.name," . . . . . \u0414\u0435\u043b\u044c\u0442\u0430 \u043e\u0436\u0438\u0434\u0430\u0435\u043c\u043e\u0439 \u0437\u043f: ").concat(C[e._id]||0),idKey:"_id",headCells:x,checkValidRow,rows:(r[e._id]||[]).filter((function(e){return-1!==F.indexOf(e.position)})),renderTableCell:salary_TableCell})}))))};salary_Salary.propTypes={teams:b.a.array,location:b.a.object};t.default=Object(m.b)((function(e){return{user:e.auth.user,teams:e.app.teams}}))(salary_Salary)}}]);
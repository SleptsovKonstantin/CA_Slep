(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{451:function(e,a,t){"use strict";t.d(a,"a",(function(){return n})),t.d(a,"b",(function(){return r})),t.d(a,"c",(function(){return l}));var n=[{id:"1high",value:"rgb(247, 0, 0, .68)"},{id:"2general",value:"rgba(255,208,34,0.8)"},{id:"3passive",value:"rgba(29,146,0,0.8)"}],r={"1high":"rgb(247, 0, 0, .3)","2general":"rgba(255,208,34,0.3)","3passive":"rgba(29,146,0,0.3)"},l={type:"",position:"",workGroup:"",plan:0,real_plan:0,openedAt:"",closedAt:"",comment:"",passiveSearchBy:"",activeSearchBy:"",link:""}},460:function(e,a,t){"use strict";t(0);var n=t(1),r=t.n(n),l=t(43),ShowByPermission=function(e){var a=e.user,t=e.group,n=e.permission,r=e.any,l=e.children,c=e.team,o=e.userTeam;if(!a)return null;var i=c;if(o&&(i=a.team),a.permissions.FULL)return l;if("GLOBAL"===t)return a.permissions[t]&n?l:null;if(r&&!i){for(var s in a.permissions){if(n&&n&a.permissions[s][t])return l;if(!n&&a.permissions[s][t]>0)return l}return null}return r&&i&&a.permissions[i][t]>0||(i||"GLOBAL"===t)&&("GLOBAL"===t||i||a.permissions[t]&n)&&a.permissions[i][t]&n?l:null};ShowByPermission.propTypes={any:r.a.bool,user:r.a.object,permission:r.a.number,group:r.a.string,team:r.a.string,userTeam:r.a.bool};var c=Object(l.b)((function(e){return{user:e.auth.user}}))(ShowByPermission);a.a=c},465:function(e,a,t){"use strict";var n=t(0),r=t.n(n),l=t(1),c=t.n(l),o=t(88),i=t(451),s=t(157),ClosedApplicationItem=function(e){var a,t=e.item,n=e.workGroupsIndexes;return r.a.createElement("div",{className:"ClosedApplicationItem"},r.a.createElement("span",{style:{padding:"5px",backgroundColor:i.b[t.type]}},"".concat(o.b[t.position]," "),n&&(null===(a=n[t.workGroup])||void 0===a?void 0:a.name)||"N/A"),r.a.createElement("span",{className:"ClosedApplicationItem-date"},Object(s.b)(t.closedAtReal)))};ClosedApplicationItem.propTypes={item:c.a.object,workGroupsIndexes:c.a.object},a.a=ClosedApplicationItem},467:function(e,a,t){"use strict";var n=t(38),r=t.n(n),l=t(0),c=t.n(l),o=(t(244),t(1)),i=t.n(o),s=t(411),u=t(487),p=t(240),d=t(413),ListSelectorTable=function(e){var a=e.items,t=e.itemIdKey,n=e.itemNameKey,l=e.label,o=e.selectedValue,i=e.onChange,m=e.dkey,b=e.className,v=e.required,f=e.multiple,E=e.renderValue;return c.a.createElement(s.a,{className:b},l&&c.a.createElement(u.a,{shrink:!0,id:"demo-simple-select-helper-label"},l),c.a.createElement(d.a,r()({labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:o,MenuProps:{classes:{paper:"ListSelectorTable-select"}},onChange:i},f?{multiple:!0}:{}),!v&&c.a.createElement(p.a,{value:"",dkey:m||"",className:"empty_select"},c.a.createElement("em",null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435")),a.map((function(e){return c.a.createElement(p.a,{value:e[t],key:e[t],dkey:m||""},E?E(e[n],e):e[n])}))))};ListSelectorTable.propTypes={dkey:i.a.string,renderValue:i.a.func,items:i.a.array.isRequired,itemIdKey:i.a.string.isRequired,itemNameKey:i.a.string.isRequired,onChange:i.a.func.isRequired,selectedValue:i.a.any.isRequired,label:i.a.string,className:i.a.string.isRequired,required:i.a.bool,multiple:i.a.bool},a.a=ListSelectorTable},468:function(e,a,t){"use strict";var n=t(27);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(0)),l=(0,n(t(45)).default)(r.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");a.default=l},481:function(e,a,t){},482:function(e,a,t){"use strict";var n=t(27);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(0)),l=(0,n(t(45)).default)(r.default.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");a.default=l},513:function(e,a,t){},514:function(e,a,t){},515:function(e,a,t){},516:function(e,a,t){},547:function(e,a,t){"use strict";t.r(a);var n=t(162),r=t.n(n),l=t(7),c=t.n(l),o=t(17),i=t.n(o),s=t(89),u=t.n(s),p=t(30),d=t.n(p),m=t(0),b=t.n(m),v=t(1),f=t.n(v),E=t(43),y=(t(513),t(555)),w=t(534),h=t(496),x=t(469),_=t(470),k=t(453),g=t.n(k),N=t(18),candidateAPI_getCandidates=function(e){return new Promise((function(a){N.a.get("/interview/candidate",e).then((function(e){a(e)})).catch(console.warn)}))},candidateAPI_deleteCandidate=function(e){return new Promise((function(a,t){var n="/candidate/".concat(e.id);N.a.delete(n,{}).then((function(e){a(e)})).catch(t)}))},j=t(88),O=t(238),I=t(94),T=(t(33),Object(O.a)(c()({},I.a.LOAD_APPLICATIONS,(function(){}))).loadApplications),C=t(19),R=t(163),S=t(552),P=t(543),K=t(14),G=(t(164),t(482)),D=t.n(G),L=t(412),A=t(480),B=t.n(A),V=t(157),U=t(467),M=t(58),q=(t(514),t(553)),z=t(540),H=t(541),F=t(542);t(515);function ownKeys(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function _objectSpread(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?ownKeys(Object(t),!0).forEach((function(a){c()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var J=[{id:"first_contact",name:"\u041f\u0435\u0440\u0432\u044b\u0439 \u043a\u043e\u043d\u0442\u0430\u043a\u0442"},{id:"phone_interview",name:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u043d\u043e\u0435 \u0438\u043d\u0442\u0435\u0440\u0432\u044c\u044e"},{id:"created",name:"\u0421\u043e\u0437\u0434\u0430\u043d\u043d\u043e"},{id:"not_created",name:"\u041d\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u043e"},{id:"not_arrived",name:"\u041d\u0435 \u043f\u0440\u0438\u0448\u0435\u043b \u043d\u0430 \u0441\u043e\u0431\u0435\u0441"},{id:"passed_hr_interview",name:"HR \u043f\u0440\u043e\u0448\u0435\u043b"},{id:"failed_hr_interview",name:"HR \u043d\u0435 \u043f\u0440\u043e\u0448\u0435\u043b"},{id:"created_tech_interview",name:"\u0422\u0435\u0445. \u0441\u043e\u0437\u0434\u0430\u043d\u043e"},{id:"passed_tech_interview",name:"\u0422\u0435\u0445. \u043f\u0440\u043e\u0448\u0435\u043b"},{id:"failed_tech_interview",name:"\u0422\u0435\u0445. \u043d\u0435 \u043f\u0440\u043e\u0448\u0435\u043b"},{id:"created_offer",name:"\u0421\u043e\u0437\u0434\u0430\u043d \u043e\u0444\u0444\u0435\u0440"},{id:"accept_offer",name:"\u041f\u0440\u0438\u043d\u044f\u043b \u043e\u0444\u0444\u0435\u0440"},{id:"not_accept_offer",name:"\u041e\u0442\u043a\u0430\u0437\u0430\u043b \u043e\u0444\u0444\u0435\u0440"}],W=(J.reduce((function(e,a){return _objectSpread(_objectSpread({},e),{},c()({},a.id,a.name))}),{}),[{field:"fio",label:"\u0424\u0418\u041e",type:"text",required:!0,fieldProps:{}},{field:"result",label:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442",type:"text",fieldProps:{}},{field:"interviewDate",label:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0431\u0435\u0441\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f",type:"text",fieldProps:{}},{field:"age",label:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442",type:"text",fieldProps:{type:"number"}},{field:"gender",type:"select",label:"\u041f\u043e\u043b",fieldProps:{className:"InterviewForm-genderSelector"},options:j.j},{field:"phone",label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",type:"text",fieldProps:{}},{field:"vk",label:"\u0412\u041a",type:"text",fieldProps:{}},{field:"hh",label:"\u0425\u044d\u0434 \u0425\u0430\u043d\u0442\u0435\u0440",type:"text",fieldProps:{}}]),CandidateInfo_CandidateInfo_CandidateInfo=function(e){var a=e.candidate;return b.a.createElement("div",{className:"CandidateInfo"},W.map((function(e){return b.a.createElement("div",{className:"CandidateInfo-row",key:e.label},b.a.createElement("div",{className:"CandidateInfo-key"},e.label),b.a.createElement("div",{className:"CandidateInfo-value"},function(e,a){if("result"===a){var t=j.c.find((function(a){return a.id===e.result}));return t&&t.value||"-"}var n;return"interviewDate"===a?(null===e||void 0===e||null===(n=e.dates)||void 0===n?void 0:n.interview)||"-":e[a]?e[a]:"-"}(a,e.field)))})))};CandidateInfo_CandidateInfo_CandidateInfo.propTypes={candidate:f.a.object};var X=CandidateInfo_CandidateInfo_CandidateInfo,PossibleExistsCandidate_PossibleExistsCandidate_PossibleExistsCandidate=function(e){var a=e.candidates,t=e.onSelect,n=e.onCancel,r=e.isOpen,l=e.noticeOnly,c=e.onContinue,o=e.current;return r?b.a.createElement("div",{className:"PossibleExistsCandidate"},b.a.createElement(q.a,{onClose:n,"aria-labelledby":"customized-dialog-title",className:"PossibleExistsCandidate-dialog",open:r},b.a.createElement(z.a,{id:"customized-dialog-title",onClose:n},!l&&"\u041f\u043e\u0445\u043e\u0436\u0438\u0435 \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u044b",l&&"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u0430 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442 \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u0430\u043c\u0438"),b.a.createElement(H.a,{dividers:!0,className:"Modal AddTeam"},b.a.createElement("div",{className:"PEC-data"},b.a.createElement("div",{className:"PossibleExistsCandidate-candidate PossibleExistsCandidate-current "},b.a.createElement("div",{className:"title-edit"},"\u041d\u043e\u0432\u044b\u0439 \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442"),b.a.createElement(X,{candidate:o}),b.a.createElement(h.a,{variant:"contained",color:"primary",className:"PossibleExistsCandidate-btn",onClick:c},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0433\u043e \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u0430")),b.a.createElement("div",{className:"PEC-list"},a.map((function(e,a){return b.a.createElement("div",{className:"PossibleExistsCandidate-candidate",key:e._id},b.a.createElement("div",{className:"title-edit"},"\u041d\u0430\u0439\u0434\u0435\u043d\u043d\u044b\u0439 \u043f\u043e\u0445\u043e\u0436\u0438\u0439 \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442 #",a+1),b.a.createElement(X,{candidate:e}),b.a.createElement(h.a,{variant:"contained",color:"primary",className:"PossibleExistsCandidate-btn",onClick:function(){return t(e)}},"\u0414\u0430 \u044d\u0442\u043e \u0442\u043e\u0442 \u0436\u0435 \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442, \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0435\u0433\u043e"))}))))),b.a.createElement(F.a,null,b.a.createElement(h.a,{autoFocus:!0,onClick:n,color:"primary"},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")))):null};PossibleExistsCandidate_PossibleExistsCandidate_PossibleExistsCandidate.propTypes={candidates:f.a.array,current:f.a.object,onCancel:f.a.func,onSelect:f.a.func,onContinue:f.a.func,isOpen:f.a.bool,noticeOnly:f.a.bool};var Q=PossibleExistsCandidate_PossibleExistsCandidate_PossibleExistsCandidate,Y=t(468),Z=t.n(Y),$=(t(516),function(e){var a=e.state;return b.a.createElement("div",{className:"RowState"},"loading"===a&&b.a.createElement("div",{className:"RowState-loader"}),"saved"===a&&b.a.createElement("div",{className:"RowState-icon saved"},b.a.createElement(Z.a,null)),"not_saved"===a&&b.a.createElement("div",{className:"RowState-icon RowState-not_saved"},b.a.createElement(Z.a,null)))});$.propTypes={state:f.a.string};var ee=$,ae=t(451),te=t(465);t(481);function ExcelTableRow_ownKeys(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function ExcelTableRow_objectSpread(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?ExcelTableRow_ownKeys(Object(t),!0).forEach((function(a){c()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ExcelTableRow_ownKeys(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var ExcelTableRow_createCandidate=function(e){return new Promise((function(a,t){N.a.post("/interview/candidate",e).then((function(e){a(e)})).catch(t)}))},ExcelTableRow_updateCandidate=function(e){return new Promise((function(a,t){N.a.put("/interview/candidate",e).then((function(e){a(e)})).catch(t)}))},ne=Object(V.a)(1800),re={interviewDate:"",lastContactDate:"",resultDate:"",result:"",leftReason:"",fio:"",channel:"",worksheet:"",position:"",age:0,gender:"",english:0,tech:0,labor:0,loyal:0,phone:"",email:"",team:"",workGroup:"",vk:"",hh:"",comment:""},ExcelTableRow_prepareData=function(e){if(!e)return re;var a=ExcelTableRow_objectSpread(ExcelTableRow_objectSpread({},re),e);return a.interviewDate&&(a.interviewDate=Object(V.b)(a.interviewDate)),a.lastContactDate&&(a.lastContactDate=Object(V.b)(a.lastContactDate)),a},prepareFoSave=function(e){return ExcelTableRow_objectSpread({},e)},ExcelTableRow_ExcelTableRowRow=function(e){var a=e.item,t=e.workGroups,n=e.onDelete,r=e.applications,l=e.workGroupsIndexes,c=e.user,o=e.channels,s=Object(m.useState)(ExcelTableRow_prepareData(a)),p=d()(s,2),v=p[0],f=p[1],E=Object(m.useState)(ExcelTableRow_prepareData(a)),y=d()(E,2),w=y[0],h=y[1],k=Object(m.useState)(null),g=d()(k,2),N=g[0],O=g[1],I=Object(m.useState)(!1),T=d()(I,2),C=T[0],R=T[1],S=Object(m.useRef)(!1),P=function(){var e=u()(i.a.mark((function _callee(e){var a,t;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(S.current){n.next=2;break}return n.abrupt("return");case 2:if(R(!0),n.prev=3,!e._id){n.next=13;break}return(a=prepareFoSave(e)).fio===v.fio&&delete a.fio,n.next=9,ExcelTableRow_updateCandidate(a);case 9:return f(e),S.current=!1,R(!1),n.abrupt("return");case 13:return n.next=15,ExcelTableRow_createCandidate(e);case 15:t=n.sent,h(ExcelTableRow_prepareData(t)),f(ExcelTableRow_prepareData(t)),S.current=!1,R(!1),n.next=31;break;case 22:if(n.prev=22,n.t0=n.catch(3),!n.t0.response||!n.t0.response.candidates){n.next=29;break}return O(n.t0.response.candidates),R(!1),S.current=!1,n.abrupt("return");case 29:M.a.error(n.t0),console.error(n.t0);case 31:case"end":return n.stop()}}),_callee,null,[[3,22]])})));return function(a){return e.apply(this,arguments)}}(),verifyRowAccess=function(e){var a=!0;return e.mainRecruiterId&&e.mainRecruiterId!==c._id&&(a=!1),!e.mainRecruiterId&&e.createdById&&e.createdById!==c._id&&(a=!1),!(!a&&!window.confirm("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u044c \u0432\u0435\u0434\u0443\u0449\u0438\u043c \u0440\u0435\u043a\u0440\u0443\u0442\u0435\u0440\u043e\u043c \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u0430"))&&(a||(e.mainRecruiterId=c._id,e.mainRecruiterName=c.fullName),!0)},handleChangeInput=function(e){var t=e.target,n=t.value,r=t.getAttribute("dkey"),l=ExcelTableRow_objectSpread({},w),c=r.split(".");verifyRowAccess(l)&&(c.length>1?l[c[0]][c[1]]=n:l[r]=n,h(l),ne(a._id||"row",P,l),S.current=!0)},handleKeyUp=function(e){13===e.keyCode&&P(w)},handleChangeSelect=function(e,t){if(t&&t.props){var n=t.props,l=n.dkey,c=n.value,o=ExcelTableRow_objectSpread({},w);if(verifyRowAccess(o)){var i=l.split(".");if(i.length>1?o[i[0]][i[1]]=c:o[l]=c,"application"===l){var s=r.find((function(e){return e._id===c}));s&&(o.position=s.position)}h(o),ne(a._id||"row",P,o),S.current=!0}}},K=function(){var e=u()(i.a.mark((function _callee2(){var e,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(O(null),R(!0),!w._id){t.next=8;break}return e=prepareFoSave(ExcelTableRow_objectSpread(ExcelTableRow_objectSpread({},w),{},{force:!0})),t.next=6,ExcelTableRow_updateCandidate(e);case 6:return R(!1),t.abrupt("return");case 8:return S.current=!1,t.next=11,ExcelTableRow_createCandidate(ExcelTableRow_objectSpread(ExcelTableRow_objectSpread({},w),{},{force:!0}));case 11:a=t.sent,R(!1),f(a),h(ExcelTableRow_prepareData(a));case 15:case"end":return t.stop()}}),_callee2)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=u()(i.a.mark((function _callee3(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0423\u0414\u0410\u041b\u0418\u0422\u042c \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u0430 \n".concat(w.fio))){e.next=2;break}return e.abrupt("return");case 2:if(R(!0),e.prev=3,w._id){e.next=7;break}return n(),e.abrupt("return");case 7:return e.next=9,candidateAPI_deleteCandidate({id:w._id});case 9:n(w._id),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.warn("deleteCandidate",e.t0);case 15:case"end":return e.stop()}}),_callee3,null,[[3,12]])})));return function(){return e.apply(this,arguments)}}(),A=C?"loading":S.current?"not_saved":"saved",V=Boolean(w.application),q=r.filter((function(e){return!(e.workGroup!==w.workGroup||!Boolean(e.position))&&(w.application===e._id&&(V=!1),!0)})),z=w.applicationItem&&w.applicationItem.closedAtReal&&w.applicationItem._id===w.application;return b.a.createElement("div",{className:"ExcelTableRow ExcelTableRow-position-".concat(w.position||"")},b.a.createElement(Q,{candidates:N,current:w,onSelect:function(e){O(null),h(ExcelTableRow_prepareData(e)),f(e)},onContinue:K,onCancel:function(){O(null)},isOpen:Boolean(N)}),b.a.createElement("label",{className:"ExcelTableRow-input xs5 first_input"},b.a.createElement("input",{onKeyUp:handleKeyUp,onBlur:function(){},value:w.fio,dkey:"fio",placeholder:"FIO",onChange:handleChangeInput}),b.a.createElement(B.a,{className:"ExcelTableRow-creator",title:w.mainRecruiterName||w.createdBy||"\u041d\u0435\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439"}),b.a.createElement("span",{className:"ExcelTableRow-creator-info"},w.mainRecruiterName||w.createdBy||"\u041d\u0435\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439")),b.a.createElement("div",{className:"ExcelTableRow-input xs1"},b.a.createElement(U.a,{items:o,itemIdKey:"id",itemNameKey:"name",renderValue:function(e,a){return"".concat(e," ").concat(a.type||"")},dkey:"channel",onChange:handleChangeSelect,selectedValue:w.channel||"",className:""})),b.a.createElement("div",{className:"ExcelTableRow-input xs1"},b.a.createElement(U.a,{items:[{id:"no",value:"\u041d\u0435\u0442"},{id:"yes",value:"\u0414\u0430"}],itemIdKey:"id",itemNameKey:"value",dkey:"heared_about_company",onChange:handleChangeSelect,selectedValue:w.heared_about_company||"",className:""})),b.a.createElement("label",{className:"ExcelTableRow-input xs05"},b.a.createElement("input",{onKeyUp:handleKeyUp,value:w.age,dkey:"age",placeholder:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442",onChange:handleChangeInput})),b.a.createElement("div",{className:"ExcelTableRow-input xs1_5"},b.a.createElement(U.a,{items:j.c,itemIdKey:"id",dkey:"result",itemNameKey:"value",onChange:handleChangeSelect,selectedValue:w.result||"",className:""})),b.a.createElement("label",{className:"ExcelTableRow-input xs08 ExcelTableRow-input-social"},b.a.createElement("input",{onKeyUp:handleKeyUp,value:w.vk,dkey:"vk",placeholder:"VK",onChange:handleChangeInput}),w.vk&&b.a.createElement("a",{className:"ExcelTableRow-social-link",href:w.vk,target:"_blank",rel:"noopener noreferrer"},b.a.createElement(x.a,{icon:_.a,className:"Link"}))),b.a.createElement("label",{className:"ExcelTableRow-input xs08"},b.a.createElement("input",{onKeyUp:handleKeyUp,value:w.hh,dkey:"hh",placeholder:"HH",onChange:handleChangeInput}),w.hh&&b.a.createElement("a",{className:"ExcelTableRow-social-link",href:w.hh,target:"_blank",rel:"noopener noreferrer"},b.a.createElement(x.a,{icon:_.a,className:"Link"}))),b.a.createElement("label",{className:"ExcelTableRow-input xs08"},b.a.createElement("input",{onKeyUp:handleKeyUp,value:w.worksheet,dkey:"worksheet",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0430\u043d\u043a\u0435\u0442\u0443",onChange:handleChangeInput}),w.worksheet&&b.a.createElement("a",{className:"ExcelTableRow-social-link",href:w.worksheet,target:"_blank",rel:"noopener noreferrer"},b.a.createElement(x.a,{icon:_.a,className:"Link"}))),b.a.createElement("div",{className:"ExcelTableRow-input xs1_5"},b.a.createElement(U.a,{items:t||[],itemIdKey:"_id",dkey:"workGroup",itemNameKey:"name",onChange:handleChangeSelect,selectedValue:w.workGroup||"",className:""})),b.a.createElement("div",{className:"ExcelTableRow-input xs08 ".concat(V?" bgError":"")},z&&b.a.createElement(te.a,{item:w.applicationItem,workGroupsIndexes:l}),b.a.createElement(U.a,{items:q,itemIdKey:"_id",renderValue:function(e,a){var t;return b.a.createElement("span",{style:{padding:"5px",backgroundColor:ae.b[a.type]}},"".concat(j.b[a.position]," "),null===(t=l[a.workGroup])||void 0===t?void 0:t.name)},itemNameKey:"type",dkey:"application",onChange:handleChangeSelect,selectedValue:w.application||"",className:""})),b.a.createElement("div",{className:"ExcelTableRow-input xs1"},b.a.createElement(U.a,{items:j.p,itemIdKey:"id",itemNameKey:"value",dkey:"position",onChange:handleChangeSelect,selectedValue:w.position||"",className:""})),b.a.createElement("label",{className:"ExcelTableRow-input xs1"},b.a.createElement("input",{onKeyUp:handleKeyUp,value:w.phone,dkey:"phone",placeholder:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",autoComplete:"none",onChange:handleChangeInput})),b.a.createElement("label",{className:"ExcelTableRow-input xs1"},b.a.createElement("input",{onKeyUp:handleKeyUp,value:w.email,dkey:"email",placeholder:"Email",autoComplete:"none",onChange:handleChangeInput})),b.a.createElement("label",{className:"ExcelTableRow-input xs1_5"},b.a.createElement("input",{onKeyUp:handleKeyUp,type:"date",value:w.lastContactDate,dkey:"lastContactDate",onChange:handleChangeInput})),b.a.createElement("label",{className:"ExcelTableRow-input xs1_5"},b.a.createElement("input",{onKeyUp:handleKeyUp,type:"date",value:w.interviewDate,dkey:"interviewDate",onChange:handleChangeInput})),b.a.createElement("label",{className:"ExcelTableRow-input xs05"},b.a.createElement("input",{onKeyUp:handleKeyUp,value:w.english,dkey:"english",placeholder:"\u0410\u043d\u0433\u043b",onChange:handleChangeInput})),b.a.createElement("label",{className:"ExcelTableRow-input xs05"},b.a.createElement("input",{onKeyUp:handleKeyUp,value:w.tech,dkey:"tech",placeholder:"\u0422\u0435\u0445",onChange:handleChangeInput})),b.a.createElement("div",{className:"ExcelTableRow-input xs5 ExcelTableRow-input-textarea"},b.a.createElement(L.a,{dkey:"comment",onChange:handleChangeInput,onKeyUp:handleKeyUp,value:w.comment,"aria-label":"minimum height",rowsMax:50,placeholder:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"})),b.a.createElement("label",{className:"ExcelTableRow-input xs06"},b.a.createElement(ee,{state:A}),b.a.createElement(D.a,{className:"DeleteItem",onClick:G})))};ExcelTableRow_ExcelTableRowRow.propTypes={item:f.a.object,workGroupsIndexes:f.a.object,user:f.a.object,workGroups:f.a.array,applications:f.a.array,channels:f.a.array,onDelete:f.a.func};var le=Object(E.b)((function(e){return{workGroupsIndexes:e.app.workGroupsIndexes,channels:e.app.channels,user:e.auth.user}}))(ExcelTableRow_ExcelTableRowRow),ExcelTable_ExcelTable=function(e){var a=e.data,t=e.workGroups,n=e.handleDelete,r=e.applications;return b.a.createElement("div",{className:"ExcelTable"},b.a.createElement("div",{className:"ExcelTable-header"},b.a.createElement("div",{className:"ExcelTable-col xs5 first_input"},"\u0424\u0418\u041e"),b.a.createElement("div",{className:"ExcelTable-col xs1"},"\u041a\u0430\u043d\u0430\u043b"),b.a.createElement("div",{className:"ExcelTable-col xs1"},"\u0421\u043b\u044b\u0448\u0430\u043b \u043e \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"),b.a.createElement("div",{className:"ExcelTable-col xs05"},"\u0412\u0437\u0440"),b.a.createElement("div",{className:"ExcelTable-col xs1_5"},"\u0421\u0442\u0430\u0442\u0443\u0441"),b.a.createElement("div",{className:"ExcelTable-col xs08"},"VK"),b.a.createElement("div",{className:"ExcelTable-col xs08"},"HH"),b.a.createElement("div",{className:"ExcelTable-col xs08"},"\u0410\u043d\u043a\u0435\u0442\u0430"),b.a.createElement("div",{className:"ExcelTable-col xs1_5"},"\u0420\u0430\u0431. \u0413\u0440\u0443\u043f\u043f\u0430"),b.a.createElement("div",{className:"ExcelTable-col xs08"},"\u0417\u0430\u044f\u0432\u043a\u0430"),b.a.createElement("div",{className:"ExcelTable-col xs1"},"\u041f\u043e\u0437\u0438\u0446\u0438\u044f"),b.a.createElement("div",{className:"ExcelTable-col xs1"},"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),b.a.createElement("div",{className:"ExcelTable-col xs1"},"Email"),b.a.createElement("div",{className:"ExcelTable-col xs1_5"},"\u0414\u0430\u0442\u0430 \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0430"),b.a.createElement("div",{className:"ExcelTable-col xs1_5"},"\u0414\u0430\u0442\u0430 \u0421\u043e\u0431\u0435\u0441\u0430."),b.a.createElement("div",{className:"ExcelTable-col xs05"},"\u0410\u043d\u0433\u043b"),b.a.createElement("div",{className:"ExcelTable-col xs05"},"\u0422\u0435\u0445"),b.a.createElement("div",{className:"ExcelTable-col xs5"},"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"),b.a.createElement("div",{className:"ExcelTable-col xs06"})),b.a.createElement("div",{className:"ExcelTable-content"},(Array.isArray(a)?a:[]).map((function(e,a){return b.a.createElement(le,{item:e,key:e._id||a,applications:r,workGroups:t,onDelete:n(a)})}))))};ExcelTable_ExcelTable.propTypes={data:f.a.array,workGroups:f.a.array,applications:f.a.array,handleDelete:f.a.func};var ce=ExcelTable_ExcelTable,oe=t(127),ie=t(460);function Interview_table_ownKeys(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function Interview_table_objectSpread(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Interview_table_ownKeys(Object(t),!0).forEach((function(a){c()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Interview_table_ownKeys(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var se=Object(V.a)(1800),ue={dates:{interview:"",result:""},result:"",leftReason:"",interviewDate:"",lastContactDate:"",fio:"",channel:"",age:0,gender:"",english:0,tech:0,labor:0,loyal:0,phone:"",vk:"",hh:"",comment:""},Interview_table_Interview=function(e){var a,t,n=e.location,l=e.workGroups,o=e.loadApplications,s=e.applications,p=e.user,v=Object(m.useState)([]),f=d()(v,2),E=f[0],k=f[1],O=Object(m.useState)([]),I=d()(O,2),T=I[0],G=I[1],D=Object(m.useState)((null===(a=n.query)||void 0===a?void 0:a.search)||""),L=d()(D,2),A=L[0],B=L[1],V=Object(m.useState)(null),U=d()(V,2),M=U[0],q=U[1],z=Object(m.useState)(function(){var e={position:"",result:"",leftReason:"",team:"",workGroup:"",user:"",onlyMy:!1};return"true"===localStorage.getItem("onlyMy")&&(e.onlyMy=!0),localStorage.getItem("workGroup_int")&&(e.workGroup=localStorage.getItem("workGroup_int")),e}()),H=d()(z,2),F=H[0],J=H[1],W=Boolean(p.permissions.FULL||p.permissions.GLOBAL&C.h.GLOBAL.RECRUTING_REPORT),X=function(){var e=u()(i.a.mark((function _callee(){var e,a,t=arguments;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.length>0&&void 0!==t[0]?t[0]:{},n.next=3,candidateAPI_getCandidates(e);case 3:a=n.sent,G(a.items),q({count:a.count,limit:a.limit,page:a.skip/a.limit});case 6:case"end":return n.stop()}}),_callee)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=u()(i.a.mark((function _callee2(){var e;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(W){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,Object(R.a)();case 4:e=a.sent,k(e);case 6:case"end":return a.stop()}}),_callee2)})));return function(){return e.apply(this,arguments)}}();Object(m.useEffect)((function(){X(Interview_table_objectSpread(Interview_table_objectSpread({},F),{},{search:A})),o(),Q()}),[]);var search=function(e){X({search:e})},handleChangeSelect=function(e,a){if(a&&a.props){var t=a.props,n=t.dkey,r=t.value,l=Interview_table_objectSpread(Interview_table_objectSpread({},M||{}),{},{page:0});"workGroup"===n&&(localStorage.setItem("workGroup_int",r||""),q(l));var c=Interview_table_objectSpread({},F);c[n]=r||"",J(c);var o=Interview_table_objectSpread(Interview_table_objectSpread({search:A},l),c);X(o)}};return b.a.createElement("div",{className:"Interview"},b.a.createElement("div",{className:"Interview-filters"},b.a.createElement("div",{className:"Interview-filters-selectors"},b.a.createElement("div",{className:"mr10"},b.a.createElement(h.a,{variant:"contained",color:"primary",size:"small",onClick:function(){var e=r()(T);e.unshift(ue),G(e)},className:"ExcelTable-addBtn",startIcon:b.a.createElement(g.a,null)},"\u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442")),b.a.createElement("div",{className:"Search"},b.a.createElement(x.a,{icon:_.b}),b.a.createElement(y.a,(t={id:"outlined-basic",label:"Outlined",variant:"outlined"},c()(t,"label",""),c()(t,"onKeyUp",(function(e){13===e.keyCode&&search(A)})),c()(t,"InputLabelProps",{shrink:!0}),c()(t,"placeholder","\u0424\u0418\u041e/\u0442\u0435\u043b\u0435\u0444\u043e\u043d/\u043f\u043e\u0447\u0442\u0430/vk"),c()(t,"value",A),c()(t,"inputProps",{autoComplete:"none"}),c()(t,"onChange",(function(e){var a=e.target.value;B(a),se("search",search,a)})),t))),b.a.createElement(oe.a,{label:"\u0421\u0442\u0430\u0442\u0443\u0441",items:j.c,itemIdKey:"id",dkey:"result",itemNameKey:"value",onChange:handleChangeSelect,selectedValue:F.result||"",className:""}),b.a.createElement(oe.a,{label:"\u041f\u043e\u0437\u0438\u0446\u0438\u044f",items:j.p,itemIdKey:"id",itemNameKey:"value",dkey:"position",onChange:handleChangeSelect,selectedValue:F.position||"",className:""}),b.a.createElement(oe.a,{label:"\u0420\u0430\u0431\u043e\u0447\u0430\u044f \u0433\u0440\u0443\u043f\u043f\u0430",items:l,itemIdKey:"_id",itemNameKey:"name",dkey:"workGroup",onChange:handleChangeSelect,selectedValue:F.workGroup||"",className:""}),W&&b.a.createElement(oe.a,{label:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",items:E,itemIdKey:"_id",itemNameKey:"fullName",dkey:"user",onChange:handleChangeSelect,selectedValue:F.user||"",className:""}),!W&&b.a.createElement(P.a,{control:b.a.createElement(S.a,{checked:F.onlyMy,onChange:function(e){var a=Interview_table_objectSpread({},F);a.onlyMy=e.target.checked,J(a),localStorage.setItem("onlyMy",e.target.checked),X(Interview_table_objectSpread(Interview_table_objectSpread({search:A},M),a))},name:"checkedB",color:"primary"}),label:"\u0422\u043e\u043b\u044c\u043a\u043e \u043c\u043e\u0438"}),W&&b.a.createElement(P.a,{control:b.a.createElement(S.a,{checked:F.heared_about_company,onChange:function(e){var a=Interview_table_objectSpread({},F);a.heared_about_company=e.target.checked,J(a),X(Interview_table_objectSpread(Interview_table_objectSpread({search:A},M),a))},name:"checkedB",color:"primary"}),label:"\u0421\u043b\u044b\u0448\u0430\u043b \u043e \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"}),b.a.createElement(ie.a,{group:"GLOBAL",permission:C.h.GLOBAL.RECRUITING_REPORTS},b.a.createElement("a",{href:N.a.getAuthorizedURL("".concat(C.a,"/export/candidates.xlsx?").concat(Object(K.e)(F||{}),")")),target:"_blank",rel:"noopener noreferrer"},"XLSX"))),b.a.createElement("div",{className:"Interview-filters-search"})),b.a.createElement(ce,{data:T,workGroups:l,handleDelete:function(e){return function(a){G(a?T.filter((function(e){return e._id!==a})):T.filter((function(a,t){return t!==e})))}},applications:s}),M&&b.a.createElement(w.a,{rowsPerPageOptions:[5,10,15,20,25],component:"div",count:M.count,rowsPerPage:M.limit,page:M.page||0,onChangePage:function(e,a){var t=Interview_table_objectSpread(Interview_table_objectSpread({},M),{},{page:a});X(Interview_table_objectSpread(Interview_table_objectSpread({search:A},t),F))},onChangeRowsPerPage:function(e,a){var t=Interview_table_objectSpread(Interview_table_objectSpread({},M),{},{limit:a.props.value,page:0});X(Interview_table_objectSpread(Interview_table_objectSpread({search:A},t),F))}}))};Interview_table_Interview.propTypes={applications:f.a.array,location:f.a.object,user:f.a.object,workGroups:f.a.array,loadApplications:f.a.func};var pe={loadApplications:T};a.default=Object(E.b)((function(e){return{user:e.auth.user,teams:e.app.teams,workGroups:e.app.workGroups,applications:e.applications.items,applicationsWGIndexes:e.applications.itemsWGIndexed}}),pe)(Interview_table_Interview)}}]);